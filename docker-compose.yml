version: "3.9"

services:
  spark-node:
    build: .
    container_name: spark-node
    privileged: true
    hostname: ${HOSTNAME}
    networks:
      - spark-net
    ports:
      - "8080:8080" # UI Master
      - "7077:7077" # Port RPC Master
    environment:
      - SPARK_NO_DAEMONIZE=true
      # Ces variables viennent de l'h√¥te
      - SPARK_MODE=${SPARK_MODE}
      - SPARK_MASTER_URL=${SPARK_MASTER_URL}
      - HOSTNAME=${HOSTNAME}

networks:
  spark-net:
    driver: bridge
